<div class="manage-account-page">
  <h2 class="manage-account-page__title">
    Créer un compte
  </h2>
  <form class="manage-account-page__form" (ngSubmit)="createAccount()">
    <p class="manage-account-page__form__info">
      Tu as déjà un compte?
      <a routerLink="/login">
        Connecte-toi!
      </a>
    </p>
    <div class="manage-account-page__form__input">
      <label for="form_username" class="form-label">
        Nom d'utilisateur: *
      </label>
      <input [(ngModel)]="user.username"
             id="form_username"
             name="username"
             type="text"
             class="input"
             [ngClass]="{'input--error': error && error.error.username}">
      <ul *ngIf="error && error.error.username">
        <li *ngFor="let message of error.error.username">
          {{ message }}
        </li>
      </ul>
    </div>
    <div class="manage-account-page__form__input">
      <label for="form_password" class="form-label">
        Mot de passe: *
      </label>
      <input [(ngModel)]="password"
             id="form_password"
             name="password"
             type="password"
             class="input"
             [ngClass]="{'input--error': error && error.error.password}">
      <ul *ngIf="error && error.error.password">
        <li *ngFor="let message of error.error.password">
          {{ message }}
        </li>
      </ul>
    </div>
    <div class="manage-account-page__form__input">
      <label for="form_password_confirmation" class="form-label">
        Confirmation du mot de passe: *
      </label>
      <input [(ngModel)]="password_confirmation"
             id="form_password_confirmation"
             name="password_confirmation"
             class="input"
             type="password"
             (change)="checkConfirmPassword()"
             [ngClass]="{'input--error': errorConfirmationPassword}">
      <ul *ngIf="errorConfirmationPassword">
        <li>
          {{ errorConfirmationPassword }}
        </li>
      </ul>
    </div>
    <div class="manage-account-page__form__input" class="form-label">
      <label for="form_email">
        Courriel: *
      </label>
      <input [(ngModel)]="user.email"
             id="form_email"
             name="email"
             type="email"
             class="input"
             [ngClass]="{'input--error': error && error.error.email}">
      <ul *ngIf="error && error.error.email">
        <li *ngFor="let message of error.error.email">
          {{ message }}
        </li>
      </ul>
    </div>
    <p>
      <label for="form_first_name" class="form-label">
        Prénom: *
      </label>
      <input [(ngModel)]="user.first_name"
             id="form_first_name"
             name="fisrt_name"
             class="input"
             type="text">
    </p>
    <p>
      <label for="form_last_name" class="form-label">
        Nom: *
      </label>
      <input [(ngModel)]="user.last_name"
             id="form_last_name"
             name="last_name"
             class="input"
             type="text">
    </p>
    <p class="alert alert--warning">
      Pour t'inscrire tu dois nous fournir au moins un numéro de téléphone afin qu'on puisse communiquer avec toi.
    </p>
    <div class="manage-account-page__form__input">
      <label for="form_phone_home" class="form-label">
        Téléphone maison:
      </label>
      <input [(ngModel)]="user.phone"
             id="form_phone_home"
             name="phone_home"
             class="input"
             type="tel"
             [ngClass]="{'input--error': error && error.error.phone}">
      <ul *ngIf="error && error.error.phone">
        <li *ngFor="let message of error.error.phone">
          {{ message }}
       </li>
      </ul>
    </div>
    <div class="manage-account-page__form__input">
      <label for="form_phone_mobile" class="form-label">
        Téléphone cellulaire:
      </label>
      <input [(ngModel)]="user.mobile"
             id="form_phone_mobile"
             name="phone_mobile"
             type="tel"
             class="input"
             [ngClass]="{'input--error': error && error.error.mobile}">
      <ul *ngIf="error && error.error.mobile">
        <li *ngFor="let message of error.error.mobile">
          {{ message }}
        </li>
      </ul>
    </div>
    <button class="button">
      Créer le compte
    </button>
  </form>
</div>
